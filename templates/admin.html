{% extends "layout.html" %}

{% block title %}
    Admin
{% endblock %}

{% block main %}
    <style>
        .table td, .table th {
            vertical-align: middle;
            text-align: center;
        }

        /* Hide the default checkbox */
        input[type="checkbox"] {
            appearance: none;
            -webkit-appearance: none;
            -moz-appearance: none;
            width: 20px;
            height: 20px;
            border: 2px solid #ccc;
            background-color: white;
            cursor: pointer;
            position: relative;
            display: inline-block;
        }

        /* Custom checked state */
        input[type="checkbox"]:checked {
            background-color: #4caf50;
            border-color: #4caf50;
        }

        /* Add checkmark when checked */
        input[type="checkbox"]:checked::after {
            content: "";
            position: absolute;
            left: 4px;
            top: 2px;
            width: 6px;
            height: 12px;
            border: solid white;
            border-width: 0 2px 2px 0;
            transform: translate(15%, -10%) rotate(45deg);        }

        /* Disabled checkbox styling */
        input[type="checkbox"]:disabled {
            background-color: #ccc;
            border-color: #ccc;
            cursor: not-allowed;
        }

        input[type="checkbox"]:disabled:checked {
            background-color: #4caf50;
            border-color: #4caf50;
        }

    </style>
    <div class="table-responsive">
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp</th>
                    {% for week_label in week_labels | reverse %}
                        <th>{{ week_label }}</th>
                    {% endfor %}
                </tr>
                <tr>
                    {% for _ in week_labels | reverse %}
                        <th>Meeting</th>
                        <th>Shift Hours</th>
                    {% endfor %}
                </tr>
            </thead>
            <tbody>
                {% for username, data in user_data.items() %}
                    <tr>
                        <td rowspan="2">{{ username }}</td>
                        {% for attended in data.attendance %}
                            <td><input type="checkbox" disabled {% if attended %}checked{% endif %}></td>
                        {% endfor %}
                    </tr>
                    <tr>
                        {% for shift in data.shift_hours %}
                            <td><input type="checkbox" disabled {% if shift %}checked{% endif %}></td>
                        {% endfor %}
                    </tr>
                {% endfor %}
            </tbody>
        </table>
        <dd class="col-sm-8">Keterangan: baris pertama = weekly, baris kedua = shift</dd>
    </div>
{% endblock %}
